{"version":3,"sources":["vue-ajax.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vue-ajax.js","sourcesContent":["Vue.directive('ajax', {\n    bind: function () {\n        this.el.addEventListener('submit', this.onFormSubmit.bind(this));\n    },\n    update: function (value) {\n\n    },\n    onFormSubmit: function (e) {\n        e.preventDefault();\n        this.vm.$http[this.getRequestType()](this.el.action, this.vm.user)\n                .then(this.onComplete.bind(this))\n                .catch(this.onError.bind(this));\n    },\n    onComplete: function (e) {\n        this.vm.$emit('vue-ajax-completed',e.data);\n    },\n    onError: function (response) {\n        if (response.status === 422) {\n            if (response.data) {\n                this.errorBags = response.data;\n                var result = Object.keys(response.data);\n                var theContents = '<ul>';\n                $(result).each(function (e, v) {\n                    theContents += '<li> ' + response.data[v] + ' </li>';\n                });\n                theContents += '</ul>';\n                $.SmartMessageBox({\n                    title: \"Warning\",\n                    content: theContents,\n                    buttons: \"[Ok]\"\n                }, function (ButtonPress, Value) {\n\n                });\n            }\n        }\n    }\n    ,\n    getRequestType: function () {\n        var method = this.el.querySelector('input[name=\"_method\"]');\n        return (method ? method.value : this.el.method).toLowerCase();\n    }\n});\n"],"sourceRoot":"/source/"}